---
/* export const prerender = true; */
import { GuideSidebar } from "../lib/api";

const data = await GuideSidebar();
//console.log(data);
const items = data.sectionsBasepress.edges;
//console.log(items);

//const subitems = items[0].node.basepress.edges[0].node.title;
//console.log(subitems);
---

<!-- <aside
  class="bpress-sidebar bpress-float-right menu_container bg-[#eee] h-max rounded-lg p-6 w-full md:w-1/4"
  role="complementary"
>
  <div class="hide-scrollbars">
    <section
      id="basepress_nav_widget-2"
      class="widget widget_basepress_nav_widget"
    >
      <div id="guide_container">
        {
          items.map((item) => (
            <ul class="bpress-nav-accordion">
              <li class="bpress-nav-section list-none cursor-pointer mb-3">
                <span class="bpress-nav-item flex space-x-2">
                  <i class="fa italic block text-lg">&#xf02d;</i>
                  <span class="bpress-nav-item-title block">
                    {" "}
                    {item.node.name}
                  </span>
                </span>
                {item.node.basepress.edges.length > 0 && (
                  <ul class="children py-2 px-2 mt-1">
                    {item.node.basepress.edges.map((subitem) => (
                      <li class="bpress-nav-article mb-2 flex space-x-1">
                        <i class="fa text-gray-400 pr-1 pt-1 block">&#xf059;</i>
                        <span class="bpress-nav-item-title">
                          {subitem.node.title}
                        </span>
                      </li>
                    ))}
                  </ul>
                )}
              </li>
            </ul>
          ))
        }
      </div>
    </section>
  </div>
</aside> -->
<aside
  class="bpress-sidebar bpress-float-right menu_container bg-[#eee] h-max rounded-lg p-6 w-full md:w-1/4"
>
  {
    items.map((item) => (
      <div class="">
        <details class="group">
          <summary class="flex justify-between items-center font-medium cursor-pointer list-none hover:bg-white p-2 rounded">
            <span class="bpress-nav-item flex space-x-2">
              <i class="fa italic block text-sm">&#xf02d;</i>
              <span class="bpress-nav-item-title block font-giloryRegular font-semibold">
                {item.node.name}
              </span>
            </span>
            <span class="transition group-open:rotate-180">
              <svg
                fill="none"
                height="24"
                shape-rendering="geometricPrecision"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="1.5"
                viewBox="0 0 24 24"
              >
                <path d="M6 9l6 6 6-6" />
              </svg>
            </span>
          </summary>

          {item.node.basepress.edges.length > 0 && (
            <p class="text-neutral-600 my-2 group-open:animate-fadeIn bg-white p-2 ml-2">
              {item.node.basepress.edges.map((subitem) => (
                <span class="flex space-x-1 mb-3">
                  <i class="fa text-gray-400 pr-1 pt-1 block">&#xf059;</i>
                  <span class="bpress-nav-item-title">
                    {subitem.node.title}
                  </span>
                </span>
              ))}
            </p>
          )}
        </details>
      </div>
    ))
  }
</aside>
